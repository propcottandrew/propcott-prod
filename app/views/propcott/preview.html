{% extends '../base-new.html' %}

{% block title %}{% autoescape false %}{{ propcott.title }}{% endautoescape %}{% endblock %}

{% block head.end %}
	{% parent %}
	<style type="text/css">
	#copy-button {
		width: 100px;
		text-align: center;
		float: right;
		border: 1px solid #ddd;
		background: #e7e7e7;
		padding: .5em;
		font-size: 1em;
		line-height: 1;
	}
	#copy-button span {
		font-size: 1em;
		line-height: 1;
	}
	#copy-link {
		font-size: .9em;
		background: white;
		padding: .5em;
		border: 1px solid #ddd;
		border-right: 0;
		line-height: 1;
		display: inline-block;
		overflow: hidden;
		display: block;
		white-space: nowrap;
	}
	#copy-label {
		float: left;
		display: inline-block;
		font-size: 1.5em;
		line-height: 1;
		padding: .166em;
	}
	#propcott-updates {
		background-color: white;
		box-shadow: 0 0 3px 1px rgba(0,0,0,0.2);
		margin-bottom: 1em;
		padding-bottom: 1px;
	}
	.propcott-update {
		border-top: 1px solid #eee;
		padding: 0 1em;
	}
	.sharebuttons {
		text-align: center;
		margin: 1em auto;
		max-width :330px;
	}
	.sharebutton {
		border-radius:2px;
		display:inline-block;
		font-size:11px;
		padding:10px;
		text-align:center;
		text-decoration:none;
		text-transform:uppercase;
		font-weight:bold;
		color:white;
		margin-bottom:0.5em;
	}
	.headline {
		position: relative;
	}
	.headline-content {
		padding: 15px 28px;
		background: #111;
		background-color: rgba(0,0,0,0.75);
		color: white;
		position: relative;
		z-index: 1;
		text-align: center;
	}
	.headline-background {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background-repeat: no-repeat;
		background-position: center center;
		background-size: cover;
		overflow: hidden;
		-webkit-filter: blur(5px);
		filter: blur(5px);
	}
	.join-button {
		display: block;
		color: white;
		background: red;
		border: 0px;
		border-radius: 10px;
	}
	.ribbon {
		background: #BD1417;
		position: relative;
		color: white;
		display: block;
		padding: .5em 1em;
		text-align: center;
		font-size: 1.2em;
		font-weight: bold;
	}
	.ribbon:before, .ribbon:after {
		position: absolute;
		top: .6em;
		bottom: -0.6em;
		content: ' ';
		border: 1.25em solid #A0181A;
	}
	.ribbon:before {
		right: 100%;
		border-right-width: 6px;
		border-left-width: 16px;
		border-left-color: #eee;
	}
	.ribbon:after {
		left: 100%;
		border-left-width: 6px;
		border-right-width: 16px;
		border-right-color: #eee;
	}
	.metric {
		font-weight: bold;
		font-size: 0.8em;
	}
	.metric p {
		margin: 0.4em 0em;
	}
	.metric-bar, .metric-fill {
		position: relative;
		display: block;
		height: 4px;
	}
	.metric-fill {
		height: 8px;
		margin-top: 2px;
		border-bottom: 1px solid #8c4d4d;
	}
	.fb-comments {
		margin: 1em 0;
		display: block;
	}
	.fb-comments, .fb-comments * {
		width: 100% !important;
	}
	input:focus, select:focus, textarea:focus, button:focus{outline: none;}
	.previewPropcottBox h3{margin-bottom: 5px; font-weight: bold;font-size: 35px !important;}
	/*banner*/
	#propcott-title{margin: 0 0 1em 0;font-size: 25px;}
	.banner-propcott-num{vertical-align: top;}
	.banner-propcott-num p{line-height: 1; text-align: right; margin: 0; padding-right: 1em;color: #A55D5D;}
	.banner-propcott-num strong{font-size: 3em;}
	.banner-propcott-target{vertical-align: top; text-align: left;margin-top:3px;}
	.banner-propcott-target p{margin: 0; padding-left: 1em; line-height: 1.1;border-left: 1px solid white;min-height: 3.8em;}
	.banner-propcott-target span{padding-left: 2px;}
	.banner-propcott-target strong{font-size: 2.7em;}
	/*the white box*/
	.previewPropcottBox{min-height: 400px;padding-bottom: 30px;}
	.col-md-7{padding: 0em 0em 0em 2.5em;}
	.col-md-5{padding: .4em 1.5em 0em 3em;float: right; clear: right}
	.col-md-7 *{font-size: 17px;}
	.col-md-7 a{display:block;overflow: hidden;text-overflow: ellipsis;}
	#propcott-media{margin: 0 1em;}
	.goalCol h3{margin-top: .5em}
	.whatCol{padding-top: 0;}
	#propcott-how li{color: #000;} #propcott-how p{color:#A87070;} #propcott-how{padding: 0px 18px;}
	#propcott-alt li{color: #000;} #propcott-alt p{color:#A87070;}	#propcott-alt{padding: 0px 18px;}

	/*If width is below or equal to 992px*/
	@media(max-width: 992px)
	{
		.col-md-5{padding: 0 2em;} 
		.col-md-7{padding: 0 2em;}
		.propcottImage{padding: 0em 1em 0em 3em;margin: 1em;}
	}
	</style>
{% endblock %}

{% block actions %}
<li><a href="/editor/cancel"><span class="typcn typcn-times"></span><br>Cancel</a></li>
<li><a href="/editor"><span class="typcn typcn-pen"></span><br>Edit</a></li>
<li><a href="/editor/save" onclick="return confirm('Are you sure you want to save this propcott?');"><span class="typcn typcn-cloud-storage"></span><br>Save</a></li>
{% endblock %}

{% block hero %}
{% autoescape false %}
<div class="headline">
	<div class="headline-content">
		<div class="container-fluid">
			<h1 id="propcott-title">{{ propcott.title }}</h1>
			<div class="row">
				<div class="col-6 banner-propcott-num">
					<p><strong>{{ propcott.support.all }}</strong><br>propcotters</p>
				</div>
				<div class="col-6 banner-propcott-target">
					<p>propcotting<br><strong>{{ propcott.target }}</strong></p>
				</div>
			</div>
			{% if propcott.creator %}
				<p style="margin: 0; margin-top: 1em;">By {{ propcott.creator.display_name }}
				{% if propcott.creator.org %} from
					{% if propcott.creator.org_link %}
						<a style="color: white;" href="{{ propcott.creator.org_link }}">{{ propcott.creator.org }}</a>
					{% else %}
						<strong>{{ propcott.creator.org }}</strong>
					{% endif %}
				{% endif %}
				</p>
			{% endif %}
		</div>
	</div>
	
	{% if propcott.media_type %}
	<div class="headline-background" style="background-image: url('{% if propcott.media_type == 'image' %}http://static.propcott.com/{{ propcott.media_link }}{% elseif propcott.media_type == 'video' %}http://img.youtube.com/vi/{{ propcott.media_link }}/hqdefault.jpg{% endif %}');"></div>
	{% endif %}
</div>
{% endautoescape %}
{% endblock %}

{% block content %}
{% autoescape false %}
<div class="row previewPropcottBox">
	<div class="col-12 col-md-5 propcottImage" style="float: right; clear: right;">
		{% if propcott.media_type %}
			{% if propcott.media_type == 'image' %}
			<div style="text-align: center; background: #111;"><img src="http://static.propcott.com/{{ propcott.media_link }}" style="max-width: 100%; max-height: 250px; vertical-align: top;border-radius: 2px"></div>
			{% elseif propcott.media_type == 'video' %}
			<div class="fluid-video"><div class="inner"><iframe src="https://www.youtube.com/embed/{{ propcott.media_link }}" frameborder="0" allowfullscreen></iframe></div></div>
			{% endif %}
		{% endif %}
	</div>
	
	<div class="col-12 col-md-7 goalCol">
		<h3>Goal</h3>
		<p>{{ propcott.goal }}</p>
	</div>

	<div class="col-12 col-md-7">
		<h3>Why</h3>
		{{ propcott.why }}
	</div>

	{% if propcott.how %}
	<div class="col-12 col-md-5 whatCol">
		<h3>What to do:</h3>
		<ul id="propcott-how">
			{% for how in propcott.how %}<li><p>{{ how }}</p></li>{% endfor %}
		</ul>
	</div>
	{% endif %}

	{% if propcott.alt %}
	<div class="col-12 col-md-5">
		<h3>Instead, try...</h3>
		<ul id="propcott-alt">
			{% for alt in propcott.alt %}<li><p>{{ alt }}</p></li>{% endfor %}
		</ul>
	</div>
	{% endif %}
	
	
</div>
{% endautoescape %}
{% endblock %}
